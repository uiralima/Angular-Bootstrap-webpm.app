<div class="container">
    <div class="card">
        <h5 class="card-header">
            <svg *ngIf="iconStep === 1" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-hourglass-top"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M2 14.5a.5.5 0 0 0 .5.5h11a.5.5 0 1 0 0-1h-1v-1a4.5 4.5 0 0 0-2.557-4.06c-.29-.139-.443-.377-.443-.59v-.7c0-.213.154-.451.443-.59A4.5 4.5 0 0 0 12.5 3V2h1a.5.5 0 0 0 0-1h-11a.5.5 0 0 0 0 1h1v1a4.5 4.5 0 0 0 2.557 4.06c.29.139.443.377.443.59v.7c0 .213-.154.451-.443.59A4.5 4.5 0 0 0 3.5 13v1h-1a.5.5 0 0 0-.5.5zm2.5-.5v-1a3.5 3.5 0 0 1 1.989-3.158c.533-.256 1.011-.79 1.011-1.491v-.702s.18.101.5.101.5-.1.5-.1v.7c0 .701.478 1.236 1.011 1.492A3.5 3.5 0 0 1 11.5 13v1h-7z" />
            </svg>
            <svg *ngIf="iconStep === 2" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-hourglass-split"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0c0 .701.478 1.236 1.011 1.492A3.5 3.5 0 0 1 11.5 13s-.866-1.299-3-1.48V8.35z" />
            </svg>
            <svg *ngIf="iconStep === 3" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-hourglass-bottom"
                fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                    d="M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702s.18.149.5.149.5-.15.5-.15v-.7c0-.701.478-1.236 1.011-1.492A3.5 3.5 0 0 0 11.5 3V2h-7z" />
            </svg>
            Atividade Atual</h5>
        <div class="card-body" *ngIf="currentActivity else activityEmpty">
            <h5 class="card-title" [innerHTML]="currentActivity.fullname"></h5>
            <h6 class="card-subtitle mb-2 text-muted" [innerHTML]="currentActivity.projectName"></h6>
            <h6 *ngIf="remainTime >= 0 else lateActivity" class="card-text positive">Restam: {{remainTime}}<span
                    class="min">min</span>/{{currentActivity.totalTime}}<span class="min">min</span></h6>
            <ng-template #lateActivity>
                <h6 class="card-text danger">Atrasado em: {{-remainTime}}<span class="min">min</span></h6>
            </ng-template>
            <div class="progress">
                <div *ngIf="percentageTime <= 25"
                    class="progress-bar bg-success progress-bar-striped progress-bar-animated"
                    [innerHTML]="getpercentageLabel(25)" role="progressbar"
                    [style]="'width:' + getPercentare(25, 0) + '%'" aria-valuenow="15" aria-valuemin="0"
                    aria-valuemax="100"></div>
                <div *ngIf="percentageTime > 25 && percentageTime <= 50"
                    class="progress-bar progress-bar-striped progress-bar-animated" [innerHTML]="getpercentageLabel(50)"
                    role="progressbar" [style]="'width:' + getPercentare(50, 0) + '%'" aria-valuenow="30"
                    aria-valuemin="0" aria-valuemax="100"></div>
                <div *ngIf="percentageTime > 50 && percentageTime <= 75"
                    class="progress-bar bg-warning progress-bar-striped progress-bar-animated"
                    [innerHTML]="getpercentageLabel(75)" role="progressbar"
                    [style]="'width:' + getPercentare(75, 0) + '%'" aria-valuenow="20" aria-valuemin="0"
                    aria-valuemax="100"></div>
                <div *ngIf="percentageTime > 75"
                    class="progress-bar bg-danger progress-bar-striped progress-bar-animated"
                    [innerHTML]="getpercentageLabel(100)" role="progressbar"
                    [style]="'width:' + getPercentare(100, 0) + '%'" aria-valuenow="20" aria-valuemin="0"
                    aria-valuemax="100"></div>
            </div>
            <div class="row">
                <div class="col">
                    <button (click)="stopActivity()" type="button" class="btn btn-danger">Parar</button>
                </div>
                <div class="col">
                    <button (click)="stopActivity()" type="button" class="btn btn-success">Terminei</button>
                </div>
            </div>
        </div>
        <ng-template #activityEmpty>
            <div class="card-body">
                <h5 class="card-title">Nenhuma</h5>
            </div>
        </ng-template>
    </div>
</div>